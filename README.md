# Offer Organizer
[English](README.en.md) | Русский

Расширение для VS Code, которое раскладывает файлы из корня проекта по типам и автоматически переписывает пути в коде.

## Возможности
- Переносит файлы в папки: `css`, `js`, `img`, `video`, `fonts`, `data`, `audio`, `files`, `includes`.
- Обновляет ссылки в `href`, `src`, `url(...)`, `import`, `@import`, `include/require` и свободных строковых упоминаниях.
- Не трогает корневые HTML и основные PHP-файлы (например, `index.php`), а include-PHP складывает в `includes`.
- При совпадении имён добавляет суффикс `-1`, `-2`, … чтобы не перезаписать существующие файлы.
- Безопасный перенос: при проблемах с `rename` пытается `copy + unlink`, ищет файлы без учёта регистра и сообщает причину пропуска.

## Установка
### Готовый пакет
```bash
code --install-extension offer-organizer-0.0.8.vsix
```
(файл VSIX лежит в корне репозитория).

### Собрать самому
```bash
npm install
npx vsce package
code --install-extension offer-organizer-0.0.8.vsix
```

## Использование
- Палитра команд: `Offer Organizer: Разложить файлы по папкам`.
- Горячая клавиша: `Ctrl+Alt+Shift+O` (когда курсор в редакторе).
- Подтвердите модальное окно перед выполнением.
- Раскладка идёт только из корня открытого workspace; вложенные каталоги не трогаются.

## Как работает
- Детектор типов по расширениям: CSS (`.css`), JS (`.js`, `.mjs`, `.cjs`), картинки (`.png/.jpg/.webp/.svg` и т.д.), видео, аудио, шрифты, данные (`.json/.xml/.csv`), include-PHP (`header.php`, `footer.php`, `config.php`, `functions.php`, `helper*.php`, `inc_*`, `*_inc.php` и др.), всё остальное — в `files`.
- После переноса файлов пересчитываются относительные пути из каждого текстового файла (`.html/.htm/.php/.css/.js`).
- При неудачном переносе выводится предупреждение с причиной (например, файл исчез или заблокирован).

## Автор
- BoostClicks — Евгений Леонтьев — https://t.me/boostclicks  
- BoostClicks — https://boostclicks.ru/

Лицензия: MIT (см. `LICENSE`).
